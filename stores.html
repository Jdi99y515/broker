<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4. Data Stores &mdash; Broker 0.5.0 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.6/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Broker 0.5.0 documentation" href="index.html" />
    <link rel="prev" title="3. Data Model" href="data.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Broker</a>
        <span class="navbar-text navbar-version pull-left"><b>0.5.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="http://github.com/bro/broker">github</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html"> <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">1. Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#communication">1.1. Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#data-model">1.2. Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#data-stores">1.3. Data Stores</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="comm.html">2. Communication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="comm.html#endpoints">2.1. Endpoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="comm.html#receiving-data">2.1.1. Receiving Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="comm.html#sending-data">2.1.2. Sending Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="comm.html#peerings">2.2. Peerings</a></li>
<li class="toctree-l2"><a class="reference internal" href="comm.html#status-messages">2.3. Status Messages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data.html">3. Data Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data.html#types">3.1. Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data.html#none">3.1.1. None</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#arithmetic">3.1.2. Arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#time">3.1.3. Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#string">3.1.4. String</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#networking">3.1.5. Networking</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#containers">3.1.6. Containers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data.html#interface">3.2. Interface</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Data Stores</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#aspects">4.1. Aspects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#frontend">4.1.1. Frontend</a></li>
<li class="toctree-l3"><a class="reference internal" href="#backend">4.1.2. Backend</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#operations">4.2. Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#construction">4.2.1. Construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modification">4.2.2. Modification</a></li>
<li class="toctree-l3"><a class="reference internal" href="#retrieval">4.2.3. Retrieval</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><div class="globaltoc">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">1. Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#communication">1.1. Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#data-model">1.2. Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#data-stores">1.3. Data Stores</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="comm.html">2. Communication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="comm.html#endpoints">2.1. Endpoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="comm.html#receiving-data">2.1.1. Receiving Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="comm.html#sending-data">2.1.2. Sending Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="comm.html#peerings">2.2. Peerings</a></li>
<li class="toctree-l2"><a class="reference internal" href="comm.html#status-messages">2.3. Status Messages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data.html">3. Data Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data.html#types">3.1. Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data.html#none">3.1.1. None</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#arithmetic">3.1.2. Arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#time">3.1.3. Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#string">3.1.4. String</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#networking">3.1.5. Networking</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#containers">3.1.6. Containers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data.html#interface">3.2. Interface</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Data Stores</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#aspects">4.1. Aspects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#frontend">4.1.1. Frontend</a></li>
<li class="toctree-l3"><a class="reference internal" href="#backend">4.1.2. Backend</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#operations">4.2. Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#construction">4.2.1. Construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modification">4.2.2. Modification</a></li>
<li class="toctree-l3"><a class="reference internal" href="#retrieval">4.2.3. Retrieval</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="data-stores">
<span id="id1"></span><h1>4. Data Stores<a class="headerlink" href="#data-stores" title="Permalink to this headline">Â¶</a></h1>
<p>In addition to transmitting <a class="reference internal" href="data.html#data-model"><span class="std std-ref">data</span></a> via publish/subscribe
communication, Broker also offers a mechanism to store this very data.
Data stores provide a distributed key-value interface that leverage the
existing <a class="reference internal" href="comm.html#communication"><span class="std std-ref">peer communication channels</span></a>.</p>
<div class="section" id="aspects">
<h2>4.1. Aspects<a class="headerlink" href="#aspects" title="Permalink to this headline">Â¶</a></h2>
<p>A data store has two aspects: a <em>frontend</em> for interacting with the user, and a
<em>backend</em> that defines the database type for the key-value store.</p>
<div class="section" id="frontend">
<h3>4.1.1. Frontend<a class="headerlink" href="#frontend" title="Permalink to this headline">Â¶</a></h3>
<p>Users interact with a data store through the frontend, which is either a
<em>master</em> or a <em>clone</em>. A master is authoritative for the store, whereas a clone
represents a local cache that is connected to the master. A clone cannot exist
without a master. Only the master can perform mutating operations on the store,
which it pushes out to all its clones. A clone has a full copy of the data for
faster access, but sends any modifying operations to its master first. Only
when the master propagates back the change, the result of the operation becomes
visible at the clone.</p>
<p>It is possible to attach one or more data stores to an endpoint, but each store
must have a unique master name. For example, two peers cannot both have a
master with the same name. When a clone connects to its master, it receives
full dump of the store:</p>
<div class="figure align-center">
<img alt="_images/store-attach.png" src="_images/store-attach.png" />
</div>
<p>While the master can apply mutating operations to the store directly, clones
have to first send the operation to the master and wait for the replay for the
operation to take on effect:</p>
<div class="figure align-center">
<img alt="_images/store-modify.png" src="_images/store-modify.png" />
</div>
</div>
<div class="section" id="backend">
<h3>4.1.2. Backend<a class="headerlink" href="#backend" title="Permalink to this headline">Â¶</a></h3>
<p>The master can choose to keep its data in various backends:</p>
<ol class="arabic simple">
<li><strong>Memory</strong>. This backend uses a hash-table to keep its data in memory. It is
the fastest of all backends, but offers limited scalability and (currently)
does not support persistence.</li>
<li><a class="reference external" href="https://www.sqlite.org">SQLite</a>. The SQLite backend stores its data in a
SQLite3 format on disk. While offering persistence, it does not scale very
well.</li>
<li><a class="reference external" href="http://rocksdb.org">RocksDB</a>. This backend relies on an
industrial-strength, high-performance database with a variety of tuning
knobs. If your application requires persistence and also needs to scale,
this backend is your best choice.</li>
</ol>
</div>
</div>
<div class="section" id="operations">
<h2>4.2. Operations<a class="headerlink" href="#operations" title="Permalink to this headline">Â¶</a></h2>
<p>Key operations on data stores include attaching it to an endpoint, performing
mutating operations, and retrieving values at specific keys.</p>
<div class="section" id="construction">
<h3>4.2.1. Construction<a class="headerlink" href="#construction" title="Permalink to this headline">Â¶</a></h3>
<p>The example below illustrates how to attach a master frontend with a memory
backend:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">context</span> <span class="n">ctx</span><span class="p">;</span>
<span class="k">auto</span> <span class="n">ep</span> <span class="o">=</span> <span class="n">ctx</span><span class="p">.</span><span class="n">spawn</span><span class="o">&lt;</span><span class="n">nonblocking</span><span class="o">&gt;</span><span class="p">();</span>
<span class="c1">// attach a master with memory backend</span>
<span class="k">auto</span> <span class="n">ds</span> <span class="o">=</span> <span class="n">ep</span><span class="p">.</span><span class="n">attach</span><span class="o">&lt;</span><span class="n">master</span><span class="p">,</span> <span class="n">memory</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">ds</span><span class="p">)</span>
</pre></div>
</div>
<p>The factory function <code class="docutils literal"><span class="pre">endpoint::attach</span></code> has the following signature:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">attach</span><span class="o">&lt;</span><span class="n">F</span><span class="p">,</span> <span class="n">B</span><span class="o">&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="n">backend_options</span> <span class="n">opts</span> <span class="o">=</span> <span class="p">{})</span>
</pre></div>
</div>
<p>The two template parameters <code class="docutils literal"><span class="pre">F</span></code> and <code class="docutils literal"><span class="pre">B</span></code> denote the respective frontend and
backend types, where <code class="docutils literal"><span class="pre">B</span></code> defaults to <code class="docutils literal"><span class="pre">memory</span></code>.  The function takes as first
argument the name of the store and as second argument optionally a set of
backend options, such as the path where to keep the backend on the filesystem.
The function returns a <code class="docutils literal"><span class="pre">expected&lt;store&gt;</span></code> which encapsulates a type-erased
reference to the data store.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The type <code class="docutils literal"><span class="pre">expected&lt;T&gt;</span></code> encapsulates an instance of type <code class="docutils literal"><span class="pre">T</span></code> or an
<code class="docutils literal"><span class="pre">error</span></code>, with an interface that has &#8220;pointer semantics&#8221; for syntactic
convenience:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">auto</span> <span class="n">f</span><span class="p">(...)</span> <span class="o">-&gt;</span> <span class="n">expected</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">;</span>

<span class="k">auto</span> <span class="n">x</span> <span class="o">=</span> <span class="n">f</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
  <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">);</span> <span class="c1">// use instance of type T</span>
<span class="k">else</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">to_string</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">error</span><span class="p">())</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<p class="last">In the failure case, the <code class="docutils literal"><span class="pre">expected&lt;T&gt;::error()</span></code> holds an <code class="docutils literal"><span class="pre">error</span></code> that
can be compared against an error enumeration.</p>
</div>
</div>
<div class="section" id="modification">
<h3>4.2.2. Modification<a class="headerlink" href="#modification" title="Permalink to this headline">Â¶</a></h3>
<p>Data stores support the following mutating operations:</p>
<ol class="arabic">
<li><p class="first"><code class="docutils literal"><span class="pre">put(key,</span> <span class="pre">value)</span></code>: stores <code class="docutils literal"><span class="pre">value</span></code> at <code class="docutils literal"><span class="pre">key</span></code>, overwriting a potentially
previously existing value at <code class="docutils literal"><span class="pre">key</span></code>.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">ds</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="n">set</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">});</span>
<span class="n">ds</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">erase(key)</span></code>: removes the value for the given key, if <code class="docutils literal"><span class="pre">key</span></code> exists</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">ds</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>    <span class="c1">// removes set{1, 2, 3}, which got inserted above</span>
<span class="n">ds</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">);</span> <span class="c1">// nop: key does not exist</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TODO: Document type-specific <code class="docutils literal"><span class="pre">add</span></code> and <code class="docutils literal"><span class="pre">remove</span></code>.</p>
</div>
</div>
<div class="section" id="retrieval">
<h3>4.2.3. Retrieval<a class="headerlink" href="#retrieval" title="Permalink to this headline">Â¶</a></h3>
<p>There exist two methods of extracting values from a store: either in a blocking
or non-blocking fashion.</p>
<p>The overload <code class="docutils literal"><span class="pre">get&lt;blocking&gt;(const</span> <span class="pre">data&amp;</span> <span class="pre">key)</span></code> retrieves a value in a blocking
manner and returns an instance of <code class="docutils literal"><span class="pre">expected&lt;data&gt;</span></code>.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">auto</span> <span class="n">result</span> <span class="o">=</span> <span class="n">ds</span><span class="o">-&gt;</span><span class="n">get</span><span class="o">&lt;</span><span class="n">blocking</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">)</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">result</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// may print 4.2</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">error</span><span class="p">()</span> <span class="o">==</span> <span class="n">ec</span><span class="o">::</span><span class="n">no_such_key</span><span class="p">)</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;key &#39;foo&#39; does not exist&#39;&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">error</span><span class="p">()</span> <span class="o">==</span> <span class="n">ec</span><span class="o">::</span><span class="n">backend_failure</span><span class="p">)</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;something went wrong with the backend&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="k">else</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;could not retrieve value at key &#39;foo&#39;&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<p>The overload <code class="docutils literal"><span class="pre">get&lt;nonblocking&gt;(const</span> <span class="pre">data&amp;</span> <span class="pre">key)</span></code> returns a future-like proxy
object which has the sole purpose of invoking <code class="docutils literal"><span class="pre">.then(...)</span></code> on it to
install a one-shot handler that the runtime executes as soon as the result of
the retrieval operation is available.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">ds</span><span class="o">-&gt;</span><span class="n">get</span><span class="o">&lt;</span><span class="n">nonblocking</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="n">then</span><span class="p">(</span>
  <span class="p">[</span><span class="o">=</span><span class="p">](</span><span class="k">const</span> <span class="n">data</span><span class="o">&amp;</span> <span class="n">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// may print 4.2</span>
  <span class="p">},</span>
  <span class="p">[</span><span class="o">=</span><span class="p">](</span><span class="k">const</span> <span class="n">error</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">error</span><span class="p">()</span> <span class="o">==</span> <span class="n">ec</span><span class="o">::</span><span class="n">no_such_key</span><span class="p">)</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;key &#39;foo&#39; does not exist&#39;&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">error</span><span class="p">()</span> <span class="o">==</span> <span class="n">ec</span><span class="o">::</span><span class="n">backend_failure</span><span class="p">)</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;something went wrong with the backend&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;could not retrieve value at key &#39;foo&#39;&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/stores.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2016, The Bro Project.<br/>
    </p>
  </div>
</footer>
  </body>
</html>